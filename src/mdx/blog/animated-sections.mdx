---
published: true
title: Animated Sections
path: /blog/animated-sections
description: Animated Sections with Framer Motion for Gatsby Animated Sections.
author: Donald Boulton
date: 2022-10-20
featuredPost: false
category: Tech
imageLink: https://publiuslogic.com/static/img/animated.jpg
tags: [Framer, Motion, Sectionize]
publicId: videos/angelina_jordan_suspicious_minds
videoTitle: Angelina Jordan Suspicious Minds
---

## Sectionize Content

Animated Sections with Framer Motion for React / Gatsby Animated Sections.

This is super easy but you will have to go through all your, `.md` or `.mdx` page's to Sectionize.

Fade in Animation for Gatsby AST, or MDX Markdown pages. For an Example this page or any page on this website is Sectionized.

Or Wrap any `.tsx` or `.js` page and / or components.

## Animated Section Below

<Section>

When adding an animated section to, AST in `.md`, or MDX in `.mdx`, markdown I like to break the sections up into 4 to 5 sentences.

</Section>

<Section>

## Install Framer Motion

</Section>

<Section>

```bash:title=Install Framer Motion
yarn add framer-motion
```

</Section>

<Section>

## Wrap Root Element gatsby browser

</Section>

<Section>

```js:title=gatsby-browser
import * as React from "react"
import { AnimatePresence } from "framer-motion"

export function wrapPageElement({ element }) {
  return <AnimatePresence wait>{element}</AnimatePresence>
}
```

</Section>

<Section>

## Wrap Root Element gatsby ssr

</Section>

<Section>

```js:title=gatsby-ssr
import * as React from "react"
import { AnimatePresence } from "framer-motion"

export function wrapPageElement({ element }) {
  return <AnimatePresence wait>{element}</AnimatePresence>
}
```

</Section>

<Section>

## Animated Sections Code

</Section>

<Section>

```js:title=Animated-Sections
import * as React from 'react'
import { useRef } from 'react'
import { useInView } from 'framer-motion'

function Section({ children }) {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true })

  return (
    <section ref={ref}>
      <span
        style={{
          transform: isInView ? 'none' : 'translateX(-200px)',
          opacity: isInView ? 1 : 0,
          transition: 'all 0.9s cubic-bezier(0.17, 0.55, 0.55, 1) 0.5s',
        }}
      >
        {children}
      </span>
    </section>
  )
}

export default Section
```

</Section>

<Section>

## Typescript with subFeatures

Using only the needed sub-features of Framer Motion, "tree shaking", at: [Reduce bundle size](https://www.framer.com/docs/guide-reduce-bundle-size/)

</Section>

<Section>

```tsx:title=Typescript-Animated-Sections {3,7,14,15,18}
import * as React from 'react'
import { useRef, ReactNode } from 'react'
import { useInView, LazyMotion, m, domAnimation } from 'framer-motion'

/* As FramersFeatures Component Below */

/* const loadFeatures = () => import('@/components/FramerFeatures').then(res => res.default) */

interface SectionProps {
  children: ReactNode
}

const Section = ({ children }: SectionProps) => {
  const ref = useRef(null)
  const isInView = useInView(ref, { once: true })

  return (
    <LazyMotion features={domAnimation}>
      <m.section ref={ref}>
        <m.span
          style={{
            transform: isInView ? 'none' : 'translateX(-200px)',
            opacity: isInView ? 1 : 0,
            transition: 'all 0.9s cubic-bezier(0.17, 0.55, 0.55, 1) 0.5s',
          }}
        >
          {children}
        </m.span>
      </m.section>
    </LazyMotion>
  )
}
export default Section
```

</Section>

<Section>

## FramerFeatures Component 

</Section>

<Section>

`domMax` Calling just the sub Features of FramerMotion when needed. 

As in each component or page: as below

`const loadFeatures = () => import('@/components/FramerFeatures').then(res => res.default)`

</Section>

<Section>

```tsx:title=subFeatures
import { domMax } from 'framer-motion'
export default domMax
```

</Section>

<Section>

## Image or Video or Text

</Section>

<Section>

```mdx:title=Proper Spacing {2,5}
<Section>
  /* just leave a space here */
    Some Text
    ![Whatever Image](../../../static/img/whatever-img.jpg)
  /* no comment just a space */
</Section>
```

</Section>

<WavyHr className="mt-1 mb-1 text-wine-300" />
